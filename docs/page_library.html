<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MD_TTT Library: Computer Algorithm for TicTacToe</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MajicDesigns_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MD_TTT Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">TicTacToe Game Decision Engine Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_library.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Computer Algorithm for TicTacToe </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Note: To allow manually exploring the concepts outlined here, the algorithm described is implemented in the Microsoft Excel spreadsheet accompanying the library release.</p>
<h2>Playing Board </h2>
<p>In TicTacToe, there are 9 positions and 8 wins. Each position we label as <em>a</em> to <em>i</em> like this: </p><pre class="fragment">a  b  c
d  e  f
g  h  i
</pre><h2>Winning Moves </h2>
<p>We can assign a matrix of win contributions to each position as a row of 8 elements. </p><pre class="fragment">[D1, H1, H2, H3, V1, V2, V3, D2]
</pre><p>where <em>D1</em> is the main diagonal (left to right), <em>H1</em>, <em>H2</em>, <em>H3</em> are horizontal wins, <em>V1</em>, <em>V2</em>, <em>V3</em> are vertical wins, and <em>D2</em> is the other diagonal.</p>
<p>For each win element, if a board position occurs in a win, give it a 1, like so: </p><pre class="fragment">[a] = [1, 1, 0, 0, 1, 0, 0, 0]
[b] = [0, 1, 0, 0, 0, 1, 0, 0]
[c] = [0, 1, 0, 0, 0, 0, 1, 1]
[d] = [0, 0, 1, 0, 1, 0, 0, 0]
[e] = [1, 0, 1, 0, 0, 1, 0, 1]
[f] = [0, 0, 1, 0, 0, 0, 1, 0]
[g] = [0, 0, 0, 1, 1, 0, 0, 1]
[h] = [0, 0, 0, 1, 0, 1, 0, 0]
[i] = [1, 0, 0, 1, 0, 0, 1, 0]
</pre><p>Now, reform this into a giant 9x8 matrix. This matrix remains constant for all games.</p>
<table class="doxtable">
<tr>
<th align="right"></th><th align="right">D1</th><th align="right">H1</th><th align="right">H2</th><th align="right">H3</th><th align="right">V1</th><th align="right">V2</th><th align="right">V3</th><th align="right">D2  </th></tr>
<tr>
<td align="right">a</td><td align="right">1</td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right"></td></tr>
<tr>
<td align="right">b</td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td></tr>
<tr>
<td align="right">c</td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right">1 </td></tr>
<tr>
<td align="right">d</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right"></td></tr>
<tr>
<td align="right">e</td><td align="right">1</td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right">1 </td></tr>
<tr>
<td align="right">f</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td></tr>
<tr>
<td align="right">g</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right">1 </td></tr>
<tr>
<td align="right">h</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td></tr>
<tr>
<td align="right">i</td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td><td align="right"></td><td align="right">1</td><td align="right"></td></tr>
</table>
<h2>The Algorithm </h2>
<p>The game win matrix [M] starts clean. Here we assume </p><pre class="fragment">[M] = [0, 0, 0, 0, 0, 0, 0, 0]
</pre><p>Player 1 makes the first move, say position [a]. The line for positions [a] is added to the game matrix [M] to give an game position: </p><pre class="fragment">[M] = [1, 1, 0, 0, 1, 0, 0, 0]
</pre><p>Player 2’s move will subtract from the game matrix. If they take position [e], the resulting game matrix will be </p><pre class="fragment">[M] = [0, 1,-1, 0, 1,-1, 0,-1]
</pre><p>And so-on for subsequent, alternately adding and subtracting from [M].</p>
<p>We therefore have a way of tracking how the game is progressing and, more importantly, to test a move against the current board to determine which is the best move at any time.</p>
<p>The best move, in order of importance, will be one that</p>
<ul>
<li>Makes a 3 or -3 (depending on the player), because this means we have made 3 in a row, column or diagonal.</li>
<li>Makes as many 2’s as possible provided there are no 2 or 1 of opposite sign, as it means other player would win the match. Leaving 2 2’s will mean that we are guaranteed to win on the next turn. Leaving a 2 of the opposite sign means that the other player will win next turn.</li>
<li>Make as many 2’s into 1’s as a last resort. A 2 now will turn into a 3 the next move, and 3 means someone wins!</li>
<li>Make the highest number of 1 provided there are no 2 of opposite sign, as it means other player would win the match.</li>
</ul>
<p>If there is more than one ‘best’ move than it is possible to select randomly between choices that fit the highest criterion. This makes the algorithm slightly unpredictable and can result in moves that allow the other player to win the game, thus relieving the boredom of always losing against the computer!</p>
<p>The game is over when there are any 3’s or -3’s and the column in which this number appears will also tell exactly where to strike through for wins. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Arduino TicTacToe game decision engine library</a></li>
    <li class="footer">Generated on Thu Nov 17 2016 09:18:49 for MD_TTT Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
